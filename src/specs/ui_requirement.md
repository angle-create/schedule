# 社内スケジュール管理システム UI要件定義



## 1. 全体構造

```

├── ログイン画面

├── ダッシュボード

│   ├── 今日の予定一覧（時系列表示）

│   ├── チーム全体の予定カレンダー

│   ├── 未確認の予定通知

│   └── 変更履歴タイムライン

├── カレンダー

│   ├── 月表示

│   ├── 週表示

│   ├── 日表示

│   ├── 予定フィルター

│   │   ├── 参加ステータス（pending/accepted/declined）

│   │   └── オンライン/オフライン

│   └── 複数メンバー予定重ね合わせ

├── スケジュール登録/編集

│   ├── 基本情報

│   │   ├── 予定タイトル

│   │   ├── 説明

│   │   ├── 日時設定（タイムゾーン考慮）

│   │   └── 場所（オンライン/オフライン）

│   ├── 参加者

│   │   ├── 参加者選択

│   │   ├── 参加者の空き時間確認

│   │   └── 参加ステータス表示

│   ├── 繰り返し設定（iCalendar RRULE）

│   └── 通知設定

├── チーム管理

│   ├── メンバー一覧（カード形式）

│   │   ├── 名前

│   │   ├── メールアドレス

│   │   ├── アバター

│   │   ├── ロール（管理者/メンバー）

│   │   └── タイムゾーン

│   ├── メンバー追加（管理者のみ）

│   └── 権限設定（管理者のみ）

└── 設定

    ├── プロフィール設定

    │   ├── 表示名

    │   ├── アバター

    │   └── タイムゾーン

    ├── 通知設定

    │   ├── Slack通知

    │   │   ├── 通知チャンネル

    │   │   ├── メンション設定（none/direct/here/channel）

    │   │   └── 通知タイミング

    │   ├── メール通知

    │   ├── システム内通知

    │   └── リマインダー（何分前）

    └── カレンダー表示設定

```



## 2. 画面詳細



### 2.1 ログイン画面

- Supabaseの認証を使用

- メールアドレスとパスワードでログイン

- 「パスワードを忘れた場合」のリセット機能

- エラーメッセージの日本語表示



### 2.2 ダッシュボード

- ログイン後の最初の画面

- 今日の予定を時系列で表示（today_schedulesビューを使用）

- チーム全体の予定をミニカレンダーで表示

- 未確認の予定通知（pending状態の予定）

- 予定の変更履歴タイムライン表示（schedule_changesテーブルを使用）

- 各予定カードには：

  - タイトル

  - 時間

  - 場所（オンライン/オフライン）

  - 参加者と参加ステータス

  - 作成者名



### 2.3 カレンダー

- 月/週/日の切り替え可能

- ドラッグ&ドロップで予定の移動が可能

- 予定をクリックで詳細表示

- 複数メンバーの予定を重ねて表示可能

- 予定の種類ごとに色分け表示：

  - オンライン/オフライン

  - 参加ステータス（pending/accepted/declined）

  - 自分が作成した予定

- タイムゾーンに応じた時間表示



### 2.4 スケジュール登録/編集

- モーダルウィンドウで表示

- 必須項目：

  - タイトル

  - 開始・終了日時（タイムゾーン考慮）

  - 参加者

- オプション項目：

  - 説明

  - 場所（オンライン/オフライン）

  - 繰り返し設定（iCalendarのRRULEフォーマット）

- 参加者の空き時間確認機能

- 通知設定：

  - Slack通知

  - メール通知

  - システム内通知

- 編集権限の表示：

  - 作成者は全ての編集が可能

  - 参加者は参加ステータスのみ変更可能

  - 管理者は全ての予定を編集可能



### 2.5 チーム管理

- メンバー一覧をカード形式で表示

- カードに表示する情報：

  - アバター

  - 表示名

  - メールアドレス

  - ロール（管理者/メンバー）

  - タイムゾーン

- メンバーの追加は管理者のみ可能

- 権限レベル：

  - 管理者：全ての機能にアクセス可能

  - 一般メンバー：制限付きアクセス



### 2.6 設定

- プロフィール：

  - 表示名の変更

  - アバターのアップロード/変更

  - タイムゾーンの設定

- 通知設定：

  - Slack通知：

    - 通知チャンネルの選択

    - メンション設定（none/direct/here/channel）

    - 通知を送信するイベントの選択

  - メール通知の有効/無効

  - システム内通知の有効/無効

  - リマインダーの時間設定（分単位）

- カレンダー：

  - デフォルト表示（月/週/日）

  - 週の開始日設定

  - 表示時間範囲の設定



## 3. UI/UXの特徴

- レスポンシブデザイン対応

- ダークモード対応

- 直感的な操作性を重視

- モバイルでも使いやすいインターフェース

- ローディング状態の適切な表示

- エラー時の分かりやすいフィードバック

- タイムゾーンを考慮した時刻表示

- 予定の状態に応じた視覚的フィードバック



## 4. 技術要件

- Next.js 14（App Router）

- Supabase（認証・データベース）

- Tailwind CSS（スタイリング）

- shadcn/ui（UIコンポーネント）

- React DnD（ドラッグ&ドロップ）

- date-fns（日付操作）

- Slack API（通知連携）



## 5. 通知仕様

### 5.1 Slack通知

- 以下のタイミングでSlackに通知：

  - 新規予定が作成された時

  - 予定が変更された時

  - 予定の開始時間が近づいた時（15分前）

  - 参加者のステータスが変更された時

- 通知内容：

  - 予定のタイトル

  - 日時

  - 場所

  - 参加者一覧と参加ステータス

  - 予定の詳細へのリンク

- Slack通知の設定：

  - 通知を送信するチャンネルの選択

  - 通知タイミングのカスタマイズ

  - メンション設定（@here, @channel, 個別メンション） 
